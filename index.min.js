!function(n){"use strict";var e;e=function(n){return fetch(n,{mode:"cors",credentials:"include"}).then(function(n){return n.json()})},function(n){return new Promise(function(e,t){$.ajax({dataType:"text",url:n,success:e,error:function(e){console.warn(e),t("Failed to get: "+n)}})})},function(){var t=$("#data-request-body");e("http://db.kinomecore.com/test").then(function(n){if(n.logged_in)return Promise.all([e("http://db.kinomecore.com/2.0.0/list/xenoline_annotations/v1?all=true"),e("http://db.kinomecore.com/2.0.0/list/passages/passages?all=true")]);throw t.append($("<div>",{class:"jumbotron",html:'<h1 class="display-4">Login with UAB BlaserID</h1><p class="lead">You will be redirected to the UAB login when you click below.</p><p class="lead"><a class="btn btn-primary btn-lg" href="http://db.kinomecore.com/login?redirect='+encodeURIComponent(location.href)+'" role="button">Login</a></p>'})),new Error("User not logged in.")}).then(function(e){e=e.map(function(n){return n.data}).reduce(function(n,e){return n.concat(e)}),n.build_page(e)}).catch(function(n){console.warn(n)})}()}(DATA_DISPLAY);