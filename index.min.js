!function(e){"use strict";var t;t=function(e){return fetch(e,{mode:"cors",credentials:"include",cache:"reload"}).then(function(e){return e.json()})},function(){var o,n,a=$("#data-request-body");t("http://db.kinomecore.com/auth/passages/passages").then(function(e){return o=e.read,t("http://db.kinomecore.com/auth/xenoline_annotations/v1")}).then(function(e){n=e.read;var i=[];if(e.email||o&&n){if(o&&i.push(t("http://db.kinomecore.com/2.0.0/xenoline_annotations/v1?all=true")),n&&i.push(t("http://db.kinomecore.com/2.0.0/passages/passages?all=true")),i.length)return Promise.all(i);throw a.append($("<div>",{class:"jumbotron",html:'<h1 class="display-4">Data Unavailable</h1><p class="lead">You do not have proper permissions to access this data. If you believe this is in error please contact the administrator, Dr. Christopher Willey.</p>'})),new Error("401: User not authenticated for accessing this data.")}throw a.append($("<div>",{class:"jumbotron",html:'<h1 class="display-4">Login with UAB BlazerID</h1><p class="lead">You will be redirected to the UAB login when you click below.</p><p class="lead"><a class="btn btn-primary btn-lg" href="http://db.kinomecore.com/login?redirect='+encodeURIComponent(location.href)+'" role="button">Login</a></p><hr /><p><i>Safari users: If you have cross-site tracking disabled this login will not work natively. This is due to login credentials being stored in cross-site enabled cookies. Please disable it or utilized Chrome or Firefox.</i></p>'})),new Error("User not logged in.")}).then(function(t){t=t.map(function(e){return e.data}).reduce(function(e,t){return e.concat(t)}),e.build_page(t)}).catch(function(e){console.warn(e)})}()}(DATA_DISPLAY);