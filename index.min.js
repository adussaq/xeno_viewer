!function(e){"use strict";var n;n=function(e){return fetch(e,{mode:"cors",credentials:"include",cache:"no-cache"}).then(function(e){return e.json()})},function(e){return new Promise(function(n,t){$.ajax({dataType:"text",url:e,success:n,error:function(n){console.warn(n),t("Failed to get: "+e)}})})},function(){var t=$("#data-request-body");n("http://db.kinomecore.com/test").then(function(e){if(e.logged_in)return Promise.all([n("http://db.kinomecore.com/2.0.0/list/xenoline_annotations/v1?all=true"),n("http://db.kinomecore.com/2.0.0/list/passages/passages?all=true")]);throw t.append($("<div>",{class:"jumbotron",html:'<h1 class="display-4">Login with UAB BlazerID</h1><p class="lead">You will be redirected to the UAB login when you click below.</p><p class="lead"><a class="btn btn-primary btn-lg" href="http://db.kinomecore.com/login?redirect='+encodeURIComponent(location.href)+'" role="button">Login</a></p>'})),new Error("User not logged in.")}).then(function(n){n=n.map(function(e){return e.data}).reduce(function(e,n){return e.concat(n)}),e.build_page(n)}).catch(function(e){console.warn(e)})}()}(DATA_DISPLAY);